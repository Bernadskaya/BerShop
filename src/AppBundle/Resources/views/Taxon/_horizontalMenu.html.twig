{% macro item(taxon) %}
    {% import _self as macros %}
    {% if taxon.children|length > 0 %}
        <li class="nav-item parent dropdown    " >
            <a class="nav-link dropdown-toggle has-category" data-toggle="dropdown" href="http://demo4leotheme.com/prestashop/leo_leblanc_demo/en/8-women" target="_self">
                <span class="menu-title">{{ taxon.name }}</span>
            </a><b class="caret"></b>
            <div class="dropdown-menu level1"  >
                <div class="dropdown-menu-inner">
                    <div class="row">
                        <div class="col-sm-12 mega-col" data-colwidth="12" data-type="menu" >
                            <div class="inner">
                                <ul>
                                    {% for childTaxon in taxon.children %}
                                        <li class="nav-item" >
                                            <a class="nav-link" href="http://demo4leotheme.com/prestashop/leo_leblanc_demo/en/content/1-delivery" target="_self">
                                                <span class="menu-title"> {{ macros.item(childTaxon) }}</span>
                                            </a>
                                        </li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </li>
    {% else %}
        <li class="nav-item" >
            <a href="{{ path('sylius_shop_product_index', {'slug': taxon.slug}) }}" target="_self" class="nav-link has-category">
                <span class="menu-title">{{ taxon.name }}</span></a>
        </li>
    {% endif %}
{% endmacro %}

{% import _self as macros %}
{% if taxons|length > 0 %}
<div id="megamenu-form_30673832033417505" class="ApMegamenu">
    <nav data-megamenu-id="30673832033417505" class="leo-megamenu cavas_menu navbar navbar-default enable-canvas horizontal-menu" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggler hidden-lg-up" data-toggle="collapse" data-target=".megamenu-off-canvas-30673832033417505">
                <span class="sr-only">Toggle navigation</span>
                &#9776;
                <!--
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                -->
            </button>
        </div>
        <div class="leo-top-menu collapse navbar-toggleable-md megamenu-off-canvas megamenu-off-canvas-30673832033417505">
            <ul class="nav navbar-nav megamenu horizontal">
                {% for taxon in taxons %}
                    {{ macros.item(taxon) }}
                {% endfor %}
            </ul>
        </div>
    </nav>
    <script type="text/javascript">
        // <![CDATA[
        // var type="horizontal";
        // checkActiveLink();
        // checkTarget();
        list_menu_tmp.id = 30673832033417505;
        list_menu_tmp.type = 'horizontal';
        // ]]>


        // offCanvas();
        // var show_cavas = 1;
        // console.log('testaaa');
        // console.log(show_cavas);
        list_menu_tmp.show_cavas =1;



        list_menu.push(list_menu_tmp);
        list_menu_tmp = {};

    </script>
</div>
{% endif %}
